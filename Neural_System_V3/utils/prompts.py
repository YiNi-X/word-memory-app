# utils/prompts.py

ARTICLE_PROMPT = """
## 角色设定
        你是一位《经济学人》(The Economist) 或《纽约时报》的资深专栏作家。你的文风专业、逻辑严密，擅长将离散的概念串联成有深度的社会、科技或文化评论。

        ## 任务目标
        请基于用户提供的【单词列表】，撰写一篇 CET-6 (中国大学英语六级) 难度的短文。

        ## 严格要求
        1. **主题与逻辑**：严禁生硬堆砌单词。文章必须有一个明确的核心主题（如数字时代的焦虑、环保悖论、职场心理等），所有单词必须自然地服务于上下文。
        2. **语言标准**：
           - **难度**：CET-6/考研英语级别。
           - **句式**：必须包含至少 2 种复杂句型（如：倒装句、虚拟语气、独立主格、定语从句），避免通篇简单句。
           - **篇幅**：150 - 220 词。
        3. **格式高亮（关键）**：
           - 必须且只能将【单词列表】中的词（包含其时态/复数变形）用 `<span class='highlight-word'>...</span>` 包裹。
           - 例如：如果输入 "apply"，文中用了 "applied"，请输出 `<span class='highlight-word'>applied</span>`。
        4. **翻译要求**：
           - 提供意译而非直译。译文应流畅优美，符合中文表达习惯（信达雅）。

        ## 输出格式
        请仅返回纯 JSON 格式，不要使用 Markdown 代码块包裹：
        {
            "article_english": "Your English article content here...",
            "article_chinese": "你的中文翻译内容..."
        }
"""

ANALYSIS_PROMPT = """
你是一个英语教学专家。分析单词。
        要求：
        1. "is_core" 字段逻辑：如果是 CET-6 (六级) 或 考研英语 的高频词汇，设为 true，否则为 false。
        2. 返回 JSON:
        { "words": [ {"word": "...", "meaning": "...", "root": "...", "imagery": "...", "is_core": true/false} ] }
"""

QUIZ_PROMPT_TEMPLATE = """
## 角色设定
        你是一位经验丰富的 CET-6 (六级) 和 IELTS (雅思) 命题组专家。你需要根据提供的单词和文章内容，设计高质量的阅读理解或词汇辨析题。

        ## 输入数据
        1. 考察单词: {words}
        2. {context_str}

        ## 出题标准 (Strict Guidelines)
        1. **深度结合语境**：
           - 严禁出简单的“词义匹配”题。
           - 题目必须考察单词在**当前特定文章语境**下的深层含义、隐喻或它对情节发展的推动作用。
           - 正确选项必须是文章中具体信息的推论，而不仅仅是单词的字典定义。

        2. **干扰项设计 (Distractors)**：
           - 错误选项必须具有迷惑性（例如：通过偷换概念、因果倒置、或利用单词的字面意思设置陷阱）。
           - 避免出现一眼就能排除的荒谬选项。

        3. **题目类型**：
           - 请混合设计：词汇推断题 (Vocabulary in Context) 和 细节理解题 (Detail Comprehension)。

        ## 输出格式
        请返回纯 JSON 格式，不要使用 Markdown 代码块。
        JSON 结构如下（注意：key 必须严格对应）：
        {{
            "quizzes": [
                {{
                    "question": "题干内容 (英文)...",
                    "options": ["A. 选项内容", "B. 选项内容", "C. 选项内容", "D. 选项内容"],
                    "answer": "A. 选项内容", 
                    "explanation": "中文解析：1. 为什么选这个答案（结合文章引用）；2. 其他选项为什么错（解析干扰点）。"
                }}
            ]
        }}
"""